<div class='controls' ng-controller="homeCtrl as vm">

<div class='controlmiddle'>
  <div class='left'>
  <div id='load' class='subcontrol'>
	  <h2> Load Files </h2>
	  Files are saved to and can only be loaded from the "Src/Assets/Save" Folder
	  <br>
	  <br>
	  <input type="text" placeholder="File Name" [(ngModel)]="saveName" />
	  <button type="button" (click)="saveButton()">SAVE</button>
	  <br>
	  <br>
	  <input #filePath type="file" /><button (click)="loadFile(filePath.value)">LOAD</button>
	  <br>
	  <br>
	  <button (click)="exportAsXLSX()">Export to Excel</button>
  </div>

  <div id='create' class='subcontrol'>
	  <h2> Create Group </h2>
	  <input type="text" placeholder="Group Bame" [(ngModel)]="task" />
	  <button type="button" (click)="newHeader()">Create</button>
	  <br>
  </div>
  </div>
  
	<div class='right' >
	  <span id='select' class='subcontrol'>
		  <h2>Select a group:</h2>
		  <select (change)="selectChangeHandler($event)">
			<option selected disabled>None</option>
			<option *ngFor="let group of groups; let i = index" [ngValue]="i">{{group.name}}</option>
		  </select>
		  <p><span>You selected: </span><b>{{selectedGroup}}</b></p>
	  </span>
	  
	  <div id='slide'>
		  <div class='subcontrol'>
			  <h2> Add Slide </h2>
			  <input type="text" placeholder="Slide Title" [(ngModel)]="itemName" />
		  <button type="button" (click)="newItem()">ADD</button>
		  </div>
		  
		  <div class='subcontrol'>
			  <h2> Edit Item </h2>
			  <span>Select a slide to edit:</span>
			  <select (change)="selectItemHandler($event)">
				<option selected disabled>None</option>
				<ng-container *ngFor="let item of groups[(selectedGroupID)].items; let i = index">
				  <option *ngIf="item.hide != 'true'">{{item.name}}</option>
				</ng-container>
			  </select>
			  <span>You selected: </span><b>{{groups[selectedGroupID].items[selectedItemID].name}}</b>

			  <br>Name: {{groups[selectedGroupID].items[selectedItemID].name}}
			  <br>Quote: {{groups[selectedGroupID].items[selectedItemID].quote}}
			  <br>Coding: {{groups[selectedGroupID].items[selectedItemID].coding}}
			  <br><br>

			  <!-- REDO ME: https://angular.io/api/forms/NgModel -->
			  <input placeholder="Title" [(ngModel)]="name"><br>
			  <input placeholder="Quote" [(ngModel)]="quote"><br>
			  <input placeholder="Coding" [(ngModel)]="coding"><br>

			  <button (click)="onSubmit()">Change</button>
			  <!-- END REDO -->
		</div>
	</div>
  </div>
</div>


  <!-- <input type="text" placeholder="Enter new slide" [(ngModel)]="task" />
  <button  type="button" (click)="onClick()">ADD NEW HEADER</button>
  <br> -->
  
</div>

<!-- User Workspace -->
<div class="wrapper" dragula="GROUPS" [(dragulaModel)]="groups">

  <!-- Groups -->
  <ng-container *ngFor="let group of groups">
    <div class="groups" *ngIf="group.hide != 'true'" id="g1">
      <!-- Group Lead Card -->
      <div class="header">
		<div class="headername">{{group.name}}</div>
		<button class="hidebutton" type="button" (click)="group.hide = 'true'">X</button>
      </div>

      <!-- Item Container -->
      <div class="container" dragula="ITEMS" [(dragulaModel)]="group.items">
        <!-- For each item in group -->
        <ng-container *ngFor="let item of group.items">
          <!-- Show item if not hidden -->
          <div class="item" *ngIf="item.hide != 'true'" onclick="openNewSlideModal()">
            <span class="itemname">{{item.name}}</span>
            <button class="hidebutton" type="button" (click)="item.hide = 'true'">X</button>
          </div>
        </ng-container>
      </div>

    </div>
  </ng-container>

</div>