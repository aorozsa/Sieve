<div class='controls'>

  <h2>Select a group to work with:</h2>
  <select (change)="selectChangeHandler($event)">
    <option selected disabled>None</option>
    <option *ngFor="let group of groups; let i = index" [ngValue]="i">{{group.name}}</option>
  </select>
  <p><span>You selected: </span><b>{{selectedGroup}}</b></p>

  <h2> Add Slide </h2>
  <input type="text" placeholder="Enter slide summary" [(ngModel)]="itemName" />
  <button type="button" (click)="newItem()">ADD</button>

  <h2> Create Group </h2>
  <input type="text" placeholder="Enter group name" [(ngModel)]="task" />
  <button type="button" (click)="newHeader()">ADD NEW HEADER</button>
  <br>

  <!-- <input type="text" placeholder="Enter new slide" [(ngModel)]="task" />
  <button  type="button" (click)="onClick()">ADD NEW HEADER</button>
  <br> -->

  <h2> Edit Items </h2>
  <span>Select a slide to act on:</span>
  <select (change)="selectItemHandler($event)">
    <option selected disabled>None</option>
    <ng-container *ngFor="let item of groups[(selectedGroupID)].items; let i = index">
      <option *ngIf="item.hide != 'true'">{{item.name}}</option>
    </ng-container>
  </select>
  <p><span>You selected: </span><b>{{groups[selectedGroupID].items[selectedItemID].name}}</b></p>

  <br>Name: {{groups[selectedGroupID].items[selectedItemID].name}}
  <br>Quote: {{groups[selectedGroupID].items[selectedItemID].quote}}
  <br>Coding: {{groups[selectedGroupID].items[selectedItemID].coding}}
  <br><br>

  <!-- REDO ME: https://angular.io/api/forms/NgModel -->
  <input placeholder="Title" [(ngModel)]="name"><br>
  <input placeholder="Quote" [(ngModel)]="quote"><br>
  <input placeholder="Coding" [(ngModel)]="coding"><br>

  <button (click)="onSubmit()">Change</button>
  <!-- END REDO -->

  <h2> Load Files </h2>
  ALL FILES NEED TO BE SAVED TO THE SRC/ASSETS/SAVE FOLDER
  <br>
  <br>
  <input type="text" placeholder="Enter file name for saving" [(ngModel)]="saveName" />
  <button type="button" (click)="saveButton()">SAVE</button>
  <br>
  <br>
  <input #filePath type="file" />
  <button (click)="loadFile(filePath.value)">LOAD</button>
  <br>
  <br>
  <button (click)="exportAsXLSX()">Export to Excel</button>
</div>

<!-- User Workspace -->
<div class="wrapper" dragula="GROUPS" [(dragulaModel)]="groups">

  <!-- Groups -->
  <ng-container *ngFor="let group of groups">
    <div class="groups" *ngIf="group.hide != 'true'" id="g1">
      <!-- Group Lead Card -->
      <span class="header">
        <span class="headername">{{group.name}}</span>
        <button class="hidebutton" type="button" (click)="group.hide = 'true'">X</button>
      </span>

      <!-- Item Container -->
      <div class="container" dragula="ITEMS" [(dragulaModel)]="group.items">
        <!-- For each item in group -->
        <ng-container *ngFor="let item of group.items">
          <!-- Show item if not hidden -->
          <div class="item" *ngIf="item.hide != 'true'">
            <span class="itemname">{{item.name}}</span>
            <button class="hidebutton" type="button" (click)="item.hide = 'true'">X</button>
          </div>
        </ng-container>
      </div>

    </div>
  </ng-container>

</div>